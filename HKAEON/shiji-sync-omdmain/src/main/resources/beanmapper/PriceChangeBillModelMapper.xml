<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="PriceChangeBillModelMapper">
    <update id="update" parameterType="JSONObject">
        update pricechangebill
        <set>
            <if test="entId != null">
                entId = #{entId,jdbcType=BIGINT},
            </if>
            <if test="erpCode != null">
                erpCode = #{erpCode,jdbcType=VARCHAR},
            </if>
            <if test="shopCode != null">
                shopCode = #{shopCode,jdbcType=VARCHAR},
            </if>
            <if test="shopName != null">
                shopName = #{shopName,jdbcType=VARCHAR},
            </if>
            <if test="shopSName != null">
                shopSName = #{shopSName,jdbcType=VARCHAR},
            </if>
            <if test="pcBillno != null">
                pcBillno = #{pcBillno,jdbcType=VARCHAR},
            </if>
            <if test="pcStartDate != null">
                pcStartDate = #{pcStartDate,jdbcType=VARCHAR},
            </if>
            <if test="pcEndDate != null">
                pcEndDate = #{pcEndDate,jdbcType=VARCHAR},
            </if>
            <if test="effDate != null">
                effDate = #{effDate,jdbcType=VARCHAR},
            </if>
            <if test="recieveDate != null">
                recieveDate = #{recieveDate,jdbcType=VARCHAR},
            </if>
            <if test="pcDate != null">
                pcDate = #{pcDate,jdbcType=VARCHAR},
            </if>
            <if test="errorMsg != null">
                errorMsg = #{errorMsg,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=INTEGER},
            </if>
            <if test="lang != null">
                lang = #{lang,jdbcType=VARCHAR},
            </if>
            <if test="creator != null">
                creator = #{creator,jdbcType=VARCHAR},
            </if>
            <if test="createDate != null">
                createDate = #{createDate,jdbcType=TIMESTAMP},
            </if>
            <if test="modifier != null">
                modifier = #{modifier,jdbcType=VARCHAR},
            </if>
            <if test="updateDate != null">
                updateDate = #{updateDate,jdbcType=TIMESTAMP},
            </if>
        </set>
        where entId = #{entId} and erpCode = #{erpCode} and shopCode = #{shopCode} and pcBillno = #{pcBillno}
    </update>

    <select id="count" parameterType="JSONObject" resultType="long">
        select count(*)
        from pricechangebill
        where entId = #{entId} and erpCode = #{erpCode} and shopCode = #{shopCode} and pcBillno = #{pcBillno}
    </select>

    <insert id="insertAll" parameterType="JSONObject">
        insert into pricechangebill (pcbid, entId, erpCode,
        shopCode, shopName, shopSName,
        pcBillno, pcStartDate, pcEndDate,
        effDate, recieveDate, pcDate,
        errorMsg, status, lang,
        creator, createDate, modifier,
        updateDate)
        values
        <foreach collection="list" separator="," item="item">
            (#{item.pcbid,jdbcType=BIGINT}, #{item.entId,jdbcType=BIGINT}, #{item.erpCode,jdbcType=VARCHAR},
            #{item.shopCode,jdbcType=VARCHAR}, #{item.shopName,jdbcType=VARCHAR}, #{item.shopSName,jdbcType=VARCHAR},
            #{item.pcBillno,jdbcType=VARCHAR}, #{item.pcStartDate,jdbcType=VARCHAR}, #{item.pcEndDate,jdbcType=VARCHAR},
            #{item.effDate,jdbcType=VARCHAR}, #{item.recieveDate,jdbcType=VARCHAR}, #{item.pcDate,jdbcType=VARCHAR},
            #{item.errorMsg,jdbcType=VARCHAR}, #{item.status,jdbcType=SMALLINT}, #{item.lang,jdbcType=VARCHAR},
            #{item.creator,jdbcType=VARCHAR}, #{item.createDate,jdbcType=TIMESTAMP}, #{item.modifier,jdbcType=VARCHAR},
            #{item.updateDate,jdbcType=TIMESTAMP})
        </foreach>
    </insert>
    
    <insert id="insert" parameterType="JSONObject">
    	insert into pricechangebill (pcbid, entId, erpCode,
        shopCode, shopName, shopSName,
        pcBillno, pcStartDate, pcEndDate,
        effDate, recieveDate, pcDate,
        errorMsg, status, lang,
        creator, createDate, modifier,
        updateDate)
        values
            (#{pcbid,jdbcType=BIGINT}, #{entId,jdbcType=BIGINT}, #{erpCode,jdbcType=VARCHAR},
            #{shopCode,jdbcType=VARCHAR}, #{shopName,jdbcType=VARCHAR}, #{shopSName,jdbcType=VARCHAR},
            #{pcBillno,jdbcType=VARCHAR}, #{pcStartDate,jdbcType=VARCHAR}, #{pcEndDate,jdbcType=VARCHAR},
            #{effDate,jdbcType=VARCHAR}, #{recieveDate,jdbcType=VARCHAR}, #{pcDate,jdbcType=VARCHAR},
            #{errorMsg,jdbcType=VARCHAR}, #{status,jdbcType=SMALLINT}, #{lang,jdbcType=VARCHAR},
            #{creator,jdbcType=VARCHAR}, #{createDate,jdbcType=TIMESTAMP}, #{modifier,jdbcType=VARCHAR},
            #{updateDate,jdbcType=TIMESTAMP})
    </insert>
    
    <update id="updateAll" parameterType="JSONObject">
		<foreach collection="list" item="item" separator=";">
			 update pricechangebill
	        <set>
	            <if test="item.entId != null">
	                entId = #{item.entId,jdbcType=BIGINT},
	            </if>
	            <if test="item.erpCode != null">
	                erpCode = #{item.erpCode,jdbcType=VARCHAR},
	            </if>
	            <if test="item.shopCode != null">
	                shopCode = #{item.shopCode,jdbcType=VARCHAR},
	            </if>
	            <if test="item.shopName != null">
	                shopName = #{item.shopName,jdbcType=VARCHAR},
	            </if>
	            <if test="item.shopSName != null">
	                shopSName = #{item.shopSName,jdbcType=VARCHAR},
	            </if>
	            <if test="item.pcBillno != null">
	                pcBillno = #{item.pcBillno,jdbcType=VARCHAR},
	            </if>
	            <if test="item.pcStartDate != null">
	                pcStartDate = #{item.pcStartDate,jdbcType=VARCHAR},
	            </if>
	            <if test="item.pcEndDate != null">
	                pcEndDate = #{item.pcEndDate,jdbcType=VARCHAR},
	            </if>
	            <if test="item.effDate != null">
	                effDate = #{item.effDate,jdbcType=VARCHAR},
	            </if>
	            <if test="item.recieveDate != null">
	                recieveDate = #{item.recieveDate,jdbcType=VARCHAR},
	            </if>
	            <if test="item.pcDate != null">
	                pcDate = #{item.pcDate,jdbcType=VARCHAR},
	            </if>
	            <if test="item.errorMsg != null">
	                errorMsg = #{item.errorMsg,jdbcType=VARCHAR},
	            </if>
	            <if test="item.status != null">
	                status = #{item.status,jdbcType=INTEGER},
	            </if>
	            <if test="item.lang != null">
	                lang = #{item.lang,jdbcType=VARCHAR},
	            </if>
	            <if test="item.creator != null">
	                creator = #{item.creator,jdbcType=VARCHAR},
	            </if>
	            <if test="item.createDate != null">
	                createDate = #{item.createDate,jdbcType=TIMESTAMP},
	            </if>
	            <if test="item.modifier != null">
	                modifier = #{item.modifier,jdbcType=VARCHAR},
	            </if>
	            <if test="item.updateDate != null">
	                updateDate = #{item.updateDate,jdbcType=TIMESTAMP},
	            </if>
	        </set>
	        where entId = #{item.entId} and erpCode = #{item.erpCode} and shopCode = #{item.shopCode} and pcBillno = #{item.pcBillno}
		</foreach>
	</update>

</mapper>